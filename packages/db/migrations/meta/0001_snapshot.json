{
  "id": "a81dee34-015f-4873-857b-b9b849d16589",
  "prevId": "ad8272ce-0f6b-4e27-ac7a-5766e9025f01",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "student_curriculum": {
      "name": "student_curriculum",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "identity_id": {
          "name": "identity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "curriculum_id": {
          "name": "curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "gear_type_id": {
          "name": "gear_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "student_curriculum_unq_identity_gear_curriculum": {
          "name": "student_curriculum_unq_identity_gear_curriculum",
          "columns": [
            "identity_id",
            "curriculum_id",
            "gear_type_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "student_curriculum_link_curriculum_id_gear_type_id_fk": {
          "name": "student_curriculum_link_curriculum_id_gear_type_id_fk",
          "tableFrom": "student_curriculum",
          "columnsFrom": [
            "curriculum_id",
            "gear_type_id"
          ],
          "tableTo": "curriculum_gear_link",
          "columnsTo": [
            "curriculum_id",
            "gear_type_id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "student_curriculum_link_curriculum_id_fk": {
          "name": "student_curriculum_link_curriculum_id_fk",
          "tableFrom": "student_curriculum",
          "columnsFrom": [
            "curriculum_id"
          ],
          "tableTo": "curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "student_curriculum_link_gear_type_id_fk": {
          "name": "student_curriculum_link_gear_type_id_fk",
          "tableFrom": "student_curriculum",
          "columnsFrom": [
            "gear_type_id"
          ],
          "tableTo": "gear_type",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "student_curriculum_link_identity_id_fk": {
          "name": "student_curriculum_link_identity_id_fk",
          "tableFrom": "student_curriculum",
          "columnsFrom": [
            "identity_id"
          ],
          "tableTo": "identity",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "certificate": {
      "name": "certificate",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "student_curriculum_id": {
          "name": "student_curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "visible_from": {
          "name": "visible_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "certificate_unq_handle": {
          "name": "certificate_unq_handle",
          "columns": [
            "handle"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "certificate_student_curriculum_link_id_fk": {
          "name": "certificate_student_curriculum_link_id_fk",
          "tableFrom": "certificate",
          "columnsFrom": [
            "student_curriculum_id"
          ],
          "tableTo": "student_curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "certificate_location_id_fk": {
          "name": "certificate_location_id_fk",
          "tableFrom": "certificate",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "location",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "student_completed_competency": {
      "name": "student_completed_competency",
      "schema": "",
      "columns": {
        "student_curriculum_id": {
          "name": "student_curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "curriculum_module_competency_id": {
          "name": "curriculum_module_competency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "certificate_id": {
          "name": "certificate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_completed_competency_student_curriculum_link_id_fk": {
          "name": "student_completed_competency_student_curriculum_link_id_fk",
          "tableFrom": "student_completed_competency",
          "columnsFrom": [
            "student_curriculum_id"
          ],
          "tableTo": "student_curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "curriculum_competency_competency_id_fk": {
          "name": "curriculum_competency_competency_id_fk",
          "tableFrom": "student_completed_competency",
          "columnsFrom": [
            "curriculum_module_competency_id"
          ],
          "tableTo": "curriculum_competency",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "student_completed_competency_certificate_id_fk": {
          "name": "student_completed_competency_certificate_id_fk",
          "tableFrom": "student_completed_competency",
          "columnsFrom": [
            "certificate_id"
          ],
          "tableTo": "certificate",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "student_completed_competency_pk": {
          "name": "student_completed_competency_pk",
          "columns": [
            "student_curriculum_id",
            "curriculum_module_competency_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "curriculum": {
      "name": "curriculum",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "program_id": {
          "name": "program_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "revision": {
          "name": "revision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "curriculum_program_id_fk": {
          "name": "curriculum_program_id_fk",
          "tableFrom": "curriculum",
          "columnsFrom": [
            "program_id"
          ],
          "tableTo": "program",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "curriculum_program_id_revision_unique": {
          "name": "curriculum_program_id_revision_unique",
          "columns": [
            "program_id",
            "revision"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "curriculum_module": {
      "name": "curriculum_module",
      "schema": "",
      "columns": {
        "curriculum_id": {
          "name": "curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "curriculum_module_curriculum_id_fk": {
          "name": "curriculum_module_curriculum_id_fk",
          "tableFrom": "curriculum_module",
          "columnsFrom": [
            "curriculum_id"
          ],
          "tableTo": "curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "curriculum_module_module_id_fk": {
          "name": "curriculum_module_module_id_fk",
          "tableFrom": "curriculum_module",
          "columnsFrom": [
            "module_id"
          ],
          "tableTo": "module",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "curriculum_module_curriculum_id_module_id_pk": {
          "name": "curriculum_module_curriculum_id_module_id_pk",
          "columns": [
            "curriculum_id",
            "module_id"
          ]
        }
      },
      "uniqueConstraints": {
        "curriculum_module_curriculum_id_module_id_unique": {
          "name": "curriculum_module_curriculum_id_module_id_unique",
          "columns": [
            "curriculum_id",
            "module_id"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "curriculum_competency": {
      "name": "curriculum_competency",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "curriculum_id": {
          "name": "curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "competency_id": {
          "name": "competency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "requirement": {
          "name": "requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "curriculum_competency_unq_set": {
          "name": "curriculum_competency_unq_set",
          "columns": [
            "curriculum_id",
            "module_id",
            "competency_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "curriculum_competency_curriculum_module_id_fk": {
          "name": "curriculum_competency_curriculum_module_id_fk",
          "tableFrom": "curriculum_competency",
          "columnsFrom": [
            "curriculum_id",
            "module_id"
          ],
          "tableTo": "curriculum_module",
          "columnsTo": [
            "curriculum_id",
            "module_id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "curriculum_competency_competency_id_fk": {
          "name": "curriculum_competency_competency_id_fk",
          "tableFrom": "curriculum_competency",
          "columnsFrom": [
            "competency_id"
          ],
          "tableTo": "competency",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "curriculum_gear_link": {
      "name": "curriculum_gear_link",
      "schema": "",
      "columns": {
        "curriculum_id": {
          "name": "curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "gear_type_id": {
          "name": "gear_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "curriculum_gear_link_curriculum_id_fk": {
          "name": "curriculum_gear_link_curriculum_id_fk",
          "tableFrom": "curriculum_gear_link",
          "columnsFrom": [
            "curriculum_id"
          ],
          "tableTo": "curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "curriculum_gear_link_gear_type_id_fk": {
          "name": "curriculum_gear_link_gear_type_id_fk",
          "tableFrom": "curriculum_gear_link",
          "columnsFrom": [
            "gear_type_id"
          ],
          "tableTo": "gear_type",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "curriculum_gear_link_curriculum_id_gear_type_id_pk": {
          "name": "curriculum_gear_link_curriculum_id_gear_type_id_pk",
          "columns": [
            "curriculum_id",
            "gear_type_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "location": {
      "name": "location",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_media_id": {
          "name": "logo_media_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "square_logo_media_id": {
          "name": "square_logo_media_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "unique_handle_for_location": {
          "name": "unique_handle_for_location",
          "columns": [
            "handle"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "location_logo_media_id_media_id_fk": {
          "name": "location_logo_media_id_media_id_fk",
          "tableFrom": "location",
          "columnsFrom": [
            "logo_media_id"
          ],
          "tableTo": "media",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "location_square_logo_media_id_media_id_fk": {
          "name": "location_square_logo_media_id_media_id_fk",
          "tableFrom": "location",
          "columnsFrom": [
            "square_logo_media_id"
          ],
          "tableTo": "media",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "media": {
      "name": "media",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "alt": {
          "name": "alt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "media_status",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "media_type",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "object_id": {
          "name": "object_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "identity_id": {
          "name": "identity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "_metadata": {
          "name": "_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "media_object_id_fk": {
          "name": "media_object_id_fk",
          "tableFrom": "media",
          "columnsFrom": [
            "object_id"
          ],
          "tableTo": "objects",
          "schemaTo": "storage",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "media_identity_id_fk": {
          "name": "media_identity_id_fk",
          "tableFrom": "media",
          "columnsFrom": [
            "identity_id"
          ],
          "tableTo": "identity",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "media_location_id_fk": {
          "name": "media_location_id_fk",
          "tableFrom": "media",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "location",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "country": {
      "name": "country",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "ar": {
          "name": "ar",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "bg": {
          "name": "bg",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "cs": {
          "name": "cs",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "da": {
          "name": "da",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "de": {
          "name": "de",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "el": {
          "name": "el",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "en": {
          "name": "en",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "es": {
          "name": "es",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "et": {
          "name": "et",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "eu": {
          "name": "eu",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "fi": {
          "name": "fi",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "fr": {
          "name": "fr",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "hu": {
          "name": "hu",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "it": {
          "name": "it",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "ja": {
          "name": "ja",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "ko": {
          "name": "ko",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "lt": {
          "name": "lt",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "nl": {
          "name": "nl",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "no": {
          "name": "no",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "pl": {
          "name": "pl",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "pt": {
          "name": "pt",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "ro": {
          "name": "ro",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "ru": {
          "name": "ru",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "sk": {
          "name": "sk",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "sv": {
          "name": "sv",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "th": {
          "name": "th",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "uk": {
          "name": "uk",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "zh": {
          "name": "zh",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "zh-tw": {
          "name": "zh-tw",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "alpha_2": {
          "name": "alpha_2",
          "type": "char(2)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "alpha_3": {
          "name": "alpha_3",
          "type": "char(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        }
      },
      "indexes": {
        "country_alpha_2_is_unique": {
          "name": "country_alpha_2_is_unique",
          "columns": [
            "alpha_2"
          ],
          "isUnique": true
        },
        "country_alpha_3_is_unique": {
          "name": "country_alpha_3_is_unique",
          "columns": [
            "alpha_3"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "competency": {
      "name": "competency",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "competency_type",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "competency_handle_unique": {
          "name": "competency_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "module": {
      "name": "module",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "module_handle_unique": {
          "name": "module_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "discipline": {
      "name": "discipline",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "discipline_handle_unique": {
          "name": "discipline_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "degree": {
      "name": "degree",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rang": {
          "name": "rang",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "degree_handle_unique": {
          "name": "degree_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "category": {
      "name": "category",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "parent_category_id": {
          "name": "parent_category_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_parent_category_id_fk": {
          "name": "category_parent_category_id_fk",
          "tableFrom": "category",
          "columnsFrom": [
            "parent_category_id"
          ],
          "tableTo": "category",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "category_handle_unique": {
          "name": "category_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "program": {
      "name": "program",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discipline_id": {
          "name": "discipline_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "degree_id": {
          "name": "degree_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "program_discipline_id_fk": {
          "name": "program_discipline_id_fk",
          "tableFrom": "program",
          "columnsFrom": [
            "discipline_id"
          ],
          "tableTo": "discipline",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "program_degree_id_fk": {
          "name": "program_degree_id_fk",
          "tableFrom": "program",
          "columnsFrom": [
            "degree_id"
          ],
          "tableTo": "degree",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "program_handle_unique": {
          "name": "program_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "program_category": {
      "name": "program_category",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "program_id": {
          "name": "program_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "program_category_program_id_fk": {
          "name": "program_category_program_id_fk",
          "tableFrom": "program_category",
          "columnsFrom": [
            "program_id"
          ],
          "tableTo": "program",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "program_category_category_id_fk": {
          "name": "program_category_category_id_fk",
          "tableFrom": "program_category",
          "columnsFrom": [
            "category_id"
          ],
          "tableTo": "category",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "program_category_category_id_program_id_unique": {
          "name": "program_category_category_id_program_id_unique",
          "columns": [
            "category_id",
            "program_id"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "gear_type": {
      "name": "gear_type",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "gear_type_handle_unique": {
          "name": "gear_type_handle_unique",
          "columns": [
            "handle"
          ],
          "nullsNotDistinct": false
        }
      }
    },
    "student_competency_progress": {
      "name": "student_competency_progress",
      "schema": "",
      "columns": {
        "student_curriculum_id": {
          "name": "student_curriculum_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "curriculum_module_competency_id": {
          "name": "curriculum_module_competency_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "progress": {
          "name": "progress",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_curriculum_progress_student_curriculum_link_id_fk": {
          "name": "student_curriculum_progress_student_curriculum_link_id_fk",
          "tableFrom": "student_competency_progress",
          "columnsFrom": [
            "student_curriculum_id"
          ],
          "tableTo": "student_curriculum",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "curriculum_competency_competency_id_fk": {
          "name": "curriculum_competency_competency_id_fk",
          "tableFrom": "student_competency_progress",
          "columnsFrom": [
            "curriculum_module_competency_id"
          ],
          "tableTo": "curriculum_competency",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "student_curriculum_progress_location_id_fk": {
          "name": "student_curriculum_progress_location_id_fk",
          "tableFrom": "student_competency_progress",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "location",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "student_competency_progress_pk": {
          "name": "student_competency_progress_pk",
          "columns": [
            "student_curriculum_id",
            "curriculum_module_competency_id",
            "location_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "user": {
      "name": "user",
      "schema": "",
      "columns": {
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "_metadata": {
          "name": "_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_auth_user_id_fk": {
          "name": "user_auth_user_id_fk",
          "tableFrom": "user",
          "columnsFrom": [
            "auth_user_id"
          ],
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "identity": {
      "name": "identity",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "extensions.uuid_generate_v4()"
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "identity_type",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name_prefix": {
          "name": "last_name_prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "birth_city": {
          "name": "birth_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "birth_country": {
          "name": "birth_country",
          "type": "char(2)",
          "primaryKey": false,
          "notNull": false
        },
        "_metadata": {
          "name": "_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "unq_handle": {
          "name": "unq_handle",
          "columns": [
            "handle"
          ],
          "isUnique": true
        },
        "user_global": {
          "name": "user_global",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "one_instructor_per_auth_user": {
          "name": "one_instructor_per_auth_user",
          "columns": [
            "user_id"
          ],
          "isUnique": true
        },
        "one_location_admin_per_auth_user": {
          "name": "one_location_admin_per_auth_user",
          "columns": [
            "user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "identity_birth_country_country_alpha_2_fk": {
          "name": "identity_birth_country_country_alpha_2_fk",
          "tableFrom": "identity",
          "columnsFrom": [
            "birth_country"
          ],
          "tableTo": "country",
          "columnsTo": [
            "alpha_2"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "identity_user_id_fk": {
          "name": "identity_user_id_fk",
          "tableFrom": "identity",
          "columnsFrom": [
            "user_id"
          ],
          "tableTo": "user",
          "columnsTo": [
            "auth_user_id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "identity_location_link": {
      "name": "identity_location_link",
      "schema": "",
      "columns": {
        "identity_id": {
          "name": "identity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "identity_link_status",
          "primaryKey": false,
          "notNull": true
        },
        "permission_level": {
          "name": "permission_level",
          "type": "location_link_permission_level",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_at": {
          "name": "rejected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "identity_location_identity_id_fk": {
          "name": "identity_location_identity_id_fk",
          "tableFrom": "identity_location_link",
          "columnsFrom": [
            "identity_id"
          ],
          "tableTo": "identity",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "identity_location_location_id_fk": {
          "name": "identity_location_location_id_fk",
          "tableFrom": "identity_location_link",
          "columnsFrom": [
            "location_id"
          ],
          "tableTo": "location",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {
        "identity_location_link_identity_id_location_id_pk": {
          "name": "identity_location_link_identity_id_location_id_pk",
          "columns": [
            "identity_id",
            "location_id"
          ]
        }
      },
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "media_status": {
      "name": "media_status",
      "values": {
        "failed": "failed",
        "processing": "processing",
        "ready": "ready",
        "uploaded": "uploaded",
        "corrupt": "corrupt"
      }
    },
    "media_type": {
      "name": "media_type",
      "values": {
        "image": "image",
        "file": "file"
      }
    },
    "competency_type": {
      "name": "competency_type",
      "values": {
        "knowledge": "knowledge",
        "skill": "skill"
      }
    },
    "identity_type": {
      "name": "identity_type",
      "values": {
        "student": "student",
        "instructor": "instructor",
        "location_admin": "location_admin"
      }
    },
    "identity_link_status": {
      "name": "identity_link_status",
      "values": {
        "pending": "pending",
        "accepted": "accepted",
        "rejected": "rejected",
        "revoked": "revoked"
      }
    },
    "location_link_permission_level": {
      "name": "location_link_permission_level",
      "values": {
        "pii_only": "pii_only",
        "all": "all"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}